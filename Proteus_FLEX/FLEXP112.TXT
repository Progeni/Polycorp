 NAM MODIFIED FLEX VER 2.8.3 FLEXP110
 OPT PAG
 STTL FLEXP111.TXT MASTER FILE
 PAG
*
* FLEXP1 14.7.82
*
* FLEXP110 27.8.82 CONTROL R CODE ADDED NEW FILE F283MODF AND
*  F283DS1D INBUFF ROUTINE,
*  VERSION NUMBER CHANGED IN F283INTE AND F283MODF.
*
* FLEXP111 25.5.83  CHANGED SPORTS FOR TWO SERIAL PORTS AND
*  CHANGED BEQ OPRMPT TO BEQ Inbuff at $CE58 IN INBUFF ROUTINE,
*  CHANGED BEQ OPRMPT TO BEQ Inbuff at $CE36 IN INBUFF ROUTINE,
*  OLD FILE F283DS1D NEWFILE F283DS1F,
*   CHANGED VERSION NUMBER IN OLD FILE F283INTE NEW FILE F283INTF,
*   CHANGED VERSION NUMBER IN OLD FILE F283MODF NEW FILE F283MODG.
*
* FLEXP112 5.7.83 CHANGED DISK DRIVER SEEK COMMAND TO HAVE SLOW 
* STEPPING RATE
* CHANGED VERSION NUMBER IN DRIVE03D TO DRIVE03E
*
*
* THIS IS THE MASTER FILE FOR MODIFIED FLEX 2.8.3
* IT USES A MODIFIED VERSION OF SWTP S-BUG MONITOR ROM
* WHICH IS INCORPERATED INTO MINIMASTER ROM
* THIS COMBINATION ALLOWS FLEX 2.8.3 TO OPERATE
* AS CLOSE TO ORIGINAL AS POSIBBLE
*
*    MINOR CHANGES HAVE BEEN MADE TO PROMPT STRINGS,
* THE SECTION OF FLEX WHICH DOES SOME INITIALISATION
* CHECKS. E.G. PORT SIZE, ON BOARD RAM, CPU SPEED,
* EXTENDED MEMORY, REAL TIME CLOCK, MEMORY STRECH
* ACTIVE. ETC. HAS BEEN REMOVED
*
*  EIGHT INCH DMA TYPE DISK DRIVERS HAVE BEEN REMOVED
* AND DRIVERS FOR MINIMASTER HAVE BEEN APPENDED
**** ASSEMBLE USING ASMB.CMD
**** MAKE SURE 'R' OPTION IS USED ON ASM09 TO
*     PRESERVE LBSR DELAY LOOP
*
*    THE COMPLETE FILE HAS BEEN SPLIT INTO SMALLER
* SECTIONS AS FOLLOWS
*
*   FILENAME         AREA          FUNCTIONS
* F283MTRx.TXT       N/A       THIS MASTER TEXT FILE
* F283INTx.TXT   C400 - C4XX   FILE CONTROL BLOCK
*                              EQU'S, DOS INITIALISE
*                C552 - C564   STARTUP FILE MESSAGE
*                               ORIGINAL POSITION
* F283PSPx.TXT   C700 - C800   SCHEDULER,
*                              PRINTER SPOOLER
* F283MODx.TXT   C810 - ????   DOS TITLES
*                CB00 - ????   POLYCORP
*                              MODS/ADDITIONS
* F283EQUx.TXT   CC00 - CCFF   DOS, I/O, EQUATES,
*                              STRINGS, COMMAND TABLE
* F283DS1x.TXT   CD00 - D031   DOS PART 1
* F283DS2x.TXT   D032 - D36B   DOS PART 2
* F283I_Ox.TXT   D370 - D3FF   I/O PROCESSING-TABLES
* F283FM1x.TXT   D400 - D83F   FMS EQUATES
*                              AND FMS PART 1
* F283FM2x.TXT   D840 - DDF2   FMS PART 2
* DRIVE03D.TXT   DE00 - DFxx   MODIFIED VERSION OF
*                              DRIVER02.TXT
*                              FOR SLIM-LINE DRIVES
*
* IF ONLY SINGLE SERIAL PORT AVAILABLE THEN '6840
* TIMER AVAILABLE BIT' OF CPUTYP FLAG HAS TO BE SET
* TO '6840 NOT AVAILABLE'. THIS IS SO THE FLEX
* PRINTER SPOOLER WILL NOT SET THE TIMER FOR
* INTERRUPTS.
* SPORTS (SERIAL PORTS) SHOULD BE EQUATED IN THIS
* FILE. THIS VALUE IS USED TO SET CPUTYP AT $C8XX
*
* SPORTS EQU $24 FOR SINGLE ACIA SERIAL PORT
* SPORTS EQU $26 FOR TWO ACIA SERIAL PORTS
*
SPORTS EQU $26 TWO ACIA'S
PT6840 EQU $E020 PROGRAMMABLE TIMER

* SET UP SBUG CALL VECTOR
* CALLED BY POLYFLEX INITIALISATION ROUTINE

INITSBUG EQU $F000 1ST 2 BYTES IN ROM

*
 STTL F283INTF FILE CONTROL BLOCK EQUS, DOS INITIALISE
 PAG
 LIB F283INTF
*
 STTL F283PSPC SCHEDULER, PRINTER SPOOLER
 PAG
 LIB F283PSPC
*
 STTL F283MODG DOS TITLES, POLYCORP MODS/ADDITIONS
 PAG
 LIB F283MODG
*
 STTL F283EQUF DOS, I/O EQUATES. STRINGS. COMMAND TABLE.
 PAG
 LIB F283EQUF
*
 STTL F283DS1E DOS PART 1
 PAG
 LIB F283DS1E
*
 STTL F283DS2E DOS PART 2
 PAG
 LIB F283DS2E
*
 STTL F283I_OC I/O PROCESSING AND TABLES
 PAG
 LIB F283I_OC
*
 STTL F283FM1C FMS EQUATES, FMS PART 1
 PAG
 LIB F283FM1C
*
 STTL F283FM2C FMS PART 2
 PAG
 LIB F283FM2C
*
 LIB DRIVE03E
*
 END START
